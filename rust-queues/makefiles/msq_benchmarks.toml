# MSQ threads & operations pairwise benchmark (Rust)
[tasks.pairwise-msq-rust-t]
extend = "parameter-scan-generic-threads"
env = { TARGET = "Pairwise MSQ (Rust)", BINARY = "${RUST_DIR}/target/release/msq_pairwise", JSON = "${RUST_MSQ_PW_JSON_T}" }
private = true
[tasks.pairwise-msq-rust-o]
extend = "parameter-scan-generic-ops"
env = { TARGET = "Pairwise MSQ (Rust)", BINARY = "${RUST_DIR}/target/release/msq_pairwise", JSON = "${RUST_MSQ_PW_JSON_O}" }
private = true

# MSQ threads & operations pairwise benchmark (C)
[tasks.pairwise-msq-c-t]
extend = "parameter-scan-generic-threads"
env = { TARGET = "Pairwise MSQ (C)", BINARY = "${C_MSQ_DIR}/msqueue", JSON = "${C_MSQ_PW_JSON_T}" }
private = true
[tasks.pairwise-msq-c-o]
extend = "parameter-scan-generic-ops"
env = { TARGET = "Pairwise MSQ (C)", BINARY = "${C_MSQ_DIR}/msqueue", JSON = "${C_MSQ_PW_JSON_O}" }
private = true

# MSQ pairwise benchmarks (Rust and C)
[tasks.benchmark-pairwise-msq-t]
description = "Parameter scan over threads for pairwise MSQ"
dependencies = ["pairwise-msq-c-t", "pairwise-msq-rust-t"]
[tasks.benchmark-pairwise-msq-o]
description = "Parameter scan over operations for pairwise MSQ"
dependencies = ["pairwise-msq-c-o", "pairwise-msq-rust-o"]
[tasks.benchmark-pairwise-msq]
description = "Parameter scan for pairwise MSQ"
dependencies = ["benchmark-pairwise-msq-t", "benchmark-pairwise-msq-o"]

# MSQ threads & operations multi-producer multi-consumer benchmark (Rust)
[tasks.mpmc-msq-rust-t]
extend = "parameter-scan-generic-threads"
env = { TARGET = "MPMC MSQ (Rust)", BINARY = "${RUST_DIR}/target/release/msq_mpmc", JSON = "${RUST_MSQ_PC_JSON_T}"}
private = true
[tasks.mpmc-msq-rust-o]
extend = "parameter-scan-generic-ops"
env = { TARGET = "MPMC MSQ (Rust)", BINARY = "${RUST_DIR}/target/release/msq_mpmc", JSON = "${RUST_MSQ_PC_JSON_O}"}
private = true

# MSQ threads & operations multi-producer multi-consumer benchmark (C)
[tasks.mpmc-msq-c-t]
extend = "parameter-scan-generic-threads"
env = { TARGET = "MPMC MSQ (C)", BINARY = "${C_MSQ_DIR}/msqueue", JSON = "${C_MSQ_PC_JSON_T}"}
private = true
[tasks.mpmc-msq-c-o]
extend = "parameter-scan-generic-ops"
env = { TARGET = "MPMC MSQ (C)", BINARY = "${C_MSQ_DIR}/msqueue", JSON = "${C_MSQ_PC_JSON_O}"}
private = true

# MSQ multi-producer multi-consumer benchmarks (Rust and C)
[tasks.benchmark-mpmc-msq-t]
description = "Parameter scan over threads for mpmc MSQ"
dependencies = ["mpmc-msq-c-t", "mpmc-msq-rust-t"]
[tasks.benchmark-mpmc-msq-o]
description = "Parameter scan over operations for mpmc MSQ"
dependencies = ["mpmc-msq-c-o", "mpmc-msq-rust-o"]
[tasks.benchmark-mpmc-msq]
description = "Parameter scan for mpmc MSQ"
dependencies = ["benchmark-mpmc-msq-t", "benchmark-mpmc-msq-o"]

# MSQ pairwise and mpmc benchmarks
[tasks.benchmark-msq]
description = "All benchmarks for MSQ"
dependencies = ["benchmark-pairwise-msq", "benchmark-mpmc-msq"]